@model List<Sarap.Models.PlanillaColones>

@{
    ViewBag.Title = "Planillas Colones";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2 class="mb-4 text-dark">Planillas Colones</h2>

@if (TempData["Mensaje"] != null)
{
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        @TempData["Mensaje"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
    </div>
}

@if (TempData["Error"] != null)
{
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        @TempData["Error"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
    </div>
}

<div class="mb-3">
</div>

<div class="card shadow-sm" style="background: white;">
    <div class="card-body p-0">
        <div class="table-responsive">
            <table class="table table-bordered table-hover w-100 mb-0">
                <thead class="table-dark">
                    <tr>
                        <th>Identidad</th>
                        <th>Fecha Inicio</th>
                        <th>Fecha Fin</th>
                        <th>Horas Ordinarias</th>
                        <th>Salario Ordinario</th>
                        <th>Horas Incapacidad</th>
                        <th>Salario Incapacidad</th>
                        <th>Horas Vacaciones</th>
                        <th>Salario Vacaciones</th>
                        <th>Horas Feriado Ley</th>
                        <th>Salario Feriado</th>
                        <th>Horas Extra 15%</th>
                        <th>Salario Extra 15%</th>
                        <th>Horas Extra 20%</th>
                        <th>Salario Extra 20%</th>
                        <th>Horas Permiso Sin Goce</th>
                        <th>Salario Bruto</th>
                        <th>Deducción CCSS</th>
                        <th>Salario Neto</th>
                        <th>Fecha Registro</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model != null && Model.Any())
                    {
                        foreach (var planilla in Model)
                        {
                            <tr>
                                <td>@planilla.Identidad</td>
                                <td>@planilla.FechaInicio.ToString("yyyy-MM-dd")</td>
                                <td>@planilla.FechaFin.ToString("yyyy-MM-dd")</td>

                                <td>@(planilla.HorasOrdinarias.HasValue ? planilla.HorasOrdinarias.Value.ToString("N2") : "0.00")</td>
                                <td>@planilla.SalarioOrdinario.ToString("N2")</td>

                                <td>@planilla.HorasIncapacidad.ToString("N2")</td>
                                <td>@planilla.SalarioIncapacidad.ToString("N2")</td>

                                <td>@planilla.HorasVacaciones.ToString("N2")</td>
                                <td>@planilla.SalarioVacaciones.ToString("N2")</td>

                                <td>@planilla.HorasFeriadoLey.ToString("N2")</td>
                                <td>@planilla.SalarioFeriado.ToString("N2")</td>

                                <td>@planilla.HorasExtra15.ToString("N2")</td>
                                <td>@planilla.SalarioExtra15.ToString("N2")</td>

                                <td>@planilla.HorasExtra20.ToString("N2")</td>
                                <td>@planilla.SalarioExtra20.ToString("N2")</td>

                                <td>@planilla.HorasPermisoSinGoce.ToString("N2")</td>

                                <td>@planilla.SalarioBruto.ToString("N2")</td>
                                <td>@planilla.DeduccionCCSS.ToString("N2")</td>
                                <td>@planilla.SalarioNeto.ToString("N2")</td>

                                <td>@(planilla.FechaRegistro.HasValue ? planilla.FechaRegistro.Value.ToString("yyyy-MM-dd HH:mm") : "")</td>

                             
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="21" class="text-center text-muted">No hay registros de planillas.</td>
                        </tr>
                    }
                </tbody>
            </table>

        </div>
    </div>
</div>
